<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slope-Intercept Visualizer</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f4f4f4; }
        .container { max-width: 600px; margin: 40px auto; background: #fff; padding: 24px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h1 { text-align: center; }
        .inputs { display: flex; justify-content: space-between; margin-bottom: 16px; }
        .inputs label { margin-right: 8px; }
        .inputs input { width: 80px; padding: 4px; }
        #visualizeBtn { width: 100%; padding: 10px; background: #0078d7; color: #fff; border: none; border-radius: 4px; font-size: 1rem; cursor: pointer; margin-bottom: 16px; }
        #visualizeBtn:hover { background: #005fa3; }
        #equation { text-align: center; font-size: 1.2rem; margin-bottom: 16px; }
        #graphContainer { display: flex; justify-content: center; }
        canvas { background: #fff; border: 1px solid #ccc; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Slope-Intercept Visualizer</h1>
        <div class="inputs">
            <div>
                <label for="slope">Slope (m):</label>
                <input type="number" id="slope" value="1" step="any">
            </div>
            <div>
                <label for="yIntercept">Y-Intercept (b):</label>
                <input type="number" id="yIntercept" value="0" step="any">
            </div>
        </div>
        <button id="visualizeBtn">Visualize</button>
        <div id="equation"></div>
        <div id="graphContainer">
            <canvas id="graph" width="400" height="400"></canvas>
        </div>
    </div>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const slopeInput = document.getElementById('slope');
        const yInterceptInput = document.getElementById('yIntercept');
        const visualizeBtn = document.getElementById('visualizeBtn');
        const equationDiv = document.getElementById('equation');
        const canvas = document.getElementById('graph');
        const ctx = canvas.getContext('2d');

        function formatEquation(m, b) {
            let mStr = (m === 1) ? '' : (m === -1 ? '-' : m);
            let bStr = '';
            if (b > 0) bStr = ' + ' + b;
            else if (b < 0) bStr = ' - ' + Math.abs(b);
            return `y = ${mStr}x${bStr}`;
        }

        function getScale(m, b) {
            // Increase zoom: use smaller default range
            let maxAbs = Math.max(Math.abs(m), Math.abs(b), 1);
            let gridStep = 0.25;
            if (maxAbs > 2.5) gridStep = 0.5;
            if (maxAbs > 5) gridStep = 1;
            if (maxAbs > 10) gridStep = 2;
            if (maxAbs > 20) gridStep = 5;
            if (maxAbs > 50) gridStep = 10;
            let range = Math.max(1.5, Math.ceil(Math.abs(b) + Math.abs(m * 2.5)));
            let minX = -range;
            let maxX = range;
            let minY = -range;
            let maxY = range;
            return { minX, maxX, minY, maxY, gridStep };
        }

        function drawGraph(m, b, labelEveryOne = false) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const { minX, maxX, minY, maxY, gridStep } = getScale(m, b);
            function toCanvas(x, y) {
                let px = (x - minX) / (maxX - minX) * canvas.width;
                let py = canvas.height - (y - minY) / (maxY - minY) * canvas.height;
                return [px, py];
            }
            ctx.save();
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            ctx.font = 'bold 13px Arial';
            let xLabelStep, yLabelStep;
            if (labelEveryOne) {
                xLabelStep = 1;
                yLabelStep = 1;
            } else {
                let maxLabels = 10;
                xLabelStep = Math.ceil((maxX - minX) / (gridStep * maxLabels)) * gridStep;
                yLabelStep = Math.ceil((maxY - minY) / (gridStep * maxLabels)) * gridStep;
            }
            for (let x = Math.ceil(minX / gridStep) * gridStep; x <= maxX; x += gridStep) {
                let [px] = toCanvas(x, 0);
                ctx.beginPath();
                ctx.moveTo(px, 0);
                ctx.lineTo(px, canvas.height);
                ctx.stroke();
                if (Math.abs(x) < 1e-6) continue;
                if (Math.abs((x / xLabelStep) - Math.round(x / xLabelStep)) < 1e-6) {
                    ctx.fillStyle = '#222';
                    ctx.fillText(Number(x.toFixed(2)), px + 2, canvas.height / 2 + 16);
                }
            }
            for (let y = Math.ceil(minY / gridStep) * gridStep; y <= maxY; y += gridStep) {
                let [, py] = toCanvas(0, y);
                ctx.beginPath();
                ctx.moveTo(0, py);
                ctx.lineTo(canvas.width, py);
                ctx.stroke();
                if (Math.abs(y) < 1e-6) continue;
                if (Math.abs((y / yLabelStep) - Math.round(y / yLabelStep)) < 1e-6) {
                    ctx.fillStyle = '#222';
                    ctx.fillText(Number(y.toFixed(2)), canvas.width / 2 + 8, py - 2);
                }
            }
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            let [yAxisX] = toCanvas(0, 0);
            ctx.beginPath();
            ctx.moveTo(yAxisX, 0);
            ctx.lineTo(yAxisX, canvas.height);
            ctx.stroke();
            let [, xAxisY] = toCanvas(0, 0);
            ctx.beginPath();
            ctx.moveTo(0, xAxisY);
            ctx.lineTo(canvas.width, xAxisY);
            ctx.stroke();
            ctx.fillStyle = '#000';
            ctx.font = 'bold 15px Arial';
            ctx.fillText('x', canvas.width - 15, xAxisY - 6);
            ctx.fillText('y', yAxisX + 10, 18);
            ctx.strokeStyle = '#0078d7';
            ctx.lineWidth = 2;
            ctx.beginPath();
            let first = true;
            for (let x = minX; x <= maxX; x += (maxX - minX) / canvas.width) {
                let y = m * x + b;
                if (y < minY - 2 || y > maxY + 2) continue;
                let [px, py] = toCanvas(x, y);
                if (first) {
                    ctx.moveTo(px, py);
                    first = false;
                } else {
                    ctx.lineTo(px, py);
                }
            }
            ctx.stroke();
            ctx.restore();
        }

        function visualize() {
            const m = parseFloat(slopeInput.value);
            const b = parseFloat(yInterceptInput.value);
            equationDiv.textContent = formatEquation(m, b);
            drawGraph(m, b);
        }

        visualizeBtn.addEventListener('click', visualize);
    // Initial draw with 1-to-1 labeling
    drawGraph(parseFloat(slopeInput.value), parseFloat(yInterceptInput.value), true);
    });
    </script>
</body>
</html>
